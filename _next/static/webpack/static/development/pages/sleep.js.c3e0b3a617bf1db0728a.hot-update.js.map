{"version":3,"file":"static/webpack/static\\development\\pages\\sleep.js.c3e0b3a617bf1db0728a.hot-update.js","sources":["webpack:///./pages/sleep.tsx"],"sourcesContent":["import { Component } from 'react';\r\nimport SleepGraph, { SleepGraphMainData } from '../src/components/sleep/graphs/SleepGraph';\r\nimport { CardDeck } from 'react-bootstrap';\r\nimport { faBed, faClock, faSmile } from '@fortawesome/free-solid-svg-icons';\r\nimport SleepInfoCard from '../src/components/sleep/SleepInfoCard';\r\nimport { SleepService } from '../src/service/SleepService';\r\nimport LoadingSpinner from '../src/layout/LoadingSpinner';\r\nimport styles from '../assets/sass/pages/sleep.module.scss';\r\n\r\ninterface SleepProps {\r\n    sleepData: SleepGraphMainData[]\r\n}\r\n\r\ninterface SleepState {\r\n    loading: boolean;\r\n}\r\n\r\nclass Sleep extends Component<SleepProps, SleepState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <LoadingSpinner active={this.state.loading} />\r\n                <p>Visualing the data recorded by the iOS Pillow app from my watch.</p>\r\n\r\n                <CardDeck>\r\n                    <SleepInfoCard\r\n                        title=\"Sleep Sessions\"\r\n                        value={this.getSleepSessionQuantity()}\r\n                        icon={faBed}\r\n                    />\r\n                    <SleepInfoCard\r\n                        title=\"Average Sleep Quality\"\r\n                        value={this.getAverageSleepQuality()}\r\n                        unit=\"%\"\r\n                        icon={faSmile}\r\n                    />\r\n                    <SleepInfoCard\r\n                        title=\"Hours Slept\"\r\n                        value={this.getTotalHoursSlept()}\r\n                        icon={faClock}\r\n                    />\r\n                </CardDeck>\r\n                <SleepGraph data={this.props.sleepData} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    private getAverageSleepQuality() {\r\n        let sum = this.props.sleepData.map(e => e.sleepQuality).reduce((sum, val) => sum + val, 0);\r\n        return Number((sum / this.getSleepSessionQuantity()).toFixed(1));\r\n    }\r\n\r\n    private getSleepSessionQuantity() {\r\n        return this.props.sleepData.length;\r\n    }\r\n\r\n    private getTotalHoursSlept() {\r\n        const data = this.props.sleepData;\r\n        const hours = data.map(e => e.duration).reduce((sum, val) => sum + val, 0);\r\n        return Math.round(hours);\r\n    }\r\n}\r\n\r\nexport async function getStaticProps() {\r\n    const graphData: SleepGraphMainData[] = new SleepService().getMainGraphData();\r\n\r\n    return {\r\n        props: {\r\n            sleepData: graphData\r\n        }\r\n    }\r\n}\r\n\r\nexport default Sleep;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAUA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;AAlDA;AACA;;AA8DA;;;;A","sourceRoot":""}